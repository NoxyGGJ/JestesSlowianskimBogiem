[gd_scene format=3 uid="uid://big68lx40uvdb"]

[ext_resource type="Script" uid="uid://b770i5rwo15sr" path="res://Scripts/LevelScript.gd" id="1_q4iis"]
[ext_resource type="Script" uid="uid://cr81v46v6n1ys" path="res://addons/zylann.hterrain/hterrain.gd" id="1_wkftn"]
[ext_resource type="Texture2D" uid="uid://dfrrpc5bjgrrt" path="res://Resources/Background/meadow_2_4k.exr" id="2_86ljf"]
[ext_resource type="Resource" uid="uid://xckm8eltva01" path="res://Resources/data.hterrain" id="2_q4iis"]
[ext_resource type="Script" uid="uid://cj1cfn4y2jd0w" path="res://addons/zylann.hterrain/hterrain_texture_set.gd" id="3_m3clv"]
[ext_resource type="Texture2D" uid="uid://dh1vs4wsghntg" path="res://Resources/O5NY920.jpg" id="4_mxnmf"]
[ext_resource type="PackedScene" uid="uid://c57icetv33aaj" path="res://GuiScene.tscn" id="6_m3clv"]
[ext_resource type="PackedScene" uid="uid://dexq1r11bvb42" path="res://Player.tscn" id="7_mxnmf"]
[ext_resource type="PackedScene" uid="uid://cyu2s083ddexu" path="res://Enemy.tscn" id="8_4eo0i"]
[ext_resource type="PackedScene" uid="uid://di3wpygtnfl7h" path="res://Resources/3D/Tree.glb" id="10_3ywx5"]

[sub_resource type="Gradient" id="Gradient_3ywx5"]
offsets = PackedFloat32Array(0, 0.32837528, 0.72196794, 1)
colors = PackedColorArray(0, 0, 0, 1, 0.14018375, 0.14800867, 0.18007824, 1, 0.52733856, 0.57962537, 0.81932974, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ofirr"]
gradient = SubResource("Gradient_3ywx5")
fill_from = Vector2(0, 0.04083571)

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_3ywx5"]
panorama = ExtResource("2_86ljf")

[sub_resource type="Sky" id="Sky_86ljf"]
sky_material = SubResource("PanoramaSkyMaterial_3ywx5")

[sub_resource type="Environment" id="Environment_3ywx5"]
resource_local_to_scene = true
resource_name = "MainEnvironment"
background_mode = 2
sky = SubResource("Sky_86ljf")
tonemap_mode = 2
glow_enabled = true
fog_light_color = Color(0.49295717, 0.55629414, 0.63943374, 1)
fog_density = 0.025
adjustment_saturation = 0.25
adjustment_color_correction = SubResource("GradientTexture2D_ofirr")

[sub_resource type="Compositor" id="Compositor_86ljf"]

[sub_resource type="Resource" id="Resource_4eo0i"]
script = ExtResource("3_m3clv")
mode = 0
textures = [[ExtResource("4_mxnmf")], [null]]

[sub_resource type="BoxShape3D" id="BoxShape3D_4eo0i"]
size = Vector3(1, 50, 530)

[node name="Level" type="Node3D" unique_id=435008576]
script = ExtResource("1_q4iis")

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=1878574989]
environment = SubResource("Environment_3ywx5")
compositor = SubResource("Compositor_86ljf")

[node name="SunLight" type="DirectionalLight3D" parent="." unique_id=89202516]
transform = Transform3D(-0.15022558, 0.8561976, -0.49432588, 2.780595e-08, 0.5, 0.86602557, 0.9886519, 0.13009927, -0.075112835, 0, 22.07484, 0)
light_energy = 2.0
shadow_enabled = true

[node name="HTerrain" type="Node3D" parent="." unique_id=1004625275]
script = ExtResource("1_wkftn")
_terrain_data = ExtResource("2_q4iis")
chunk_size = 32
collision_enabled = true
collision_layer = 1
collision_mask = 1
shader_type = "Classic4"
custom_shader = null
custom_globalmap_shader = null
texture_set = SubResource("Resource_4eo0i")
render_layers = 1
cast_shadow = 1
shader_params/u_ground_uv_scale_per_texture = null
shader_params/u_depth_blending = true
shader_params/u_triplanar = null
shader_params/u_tile_reduction = null
shader_params/u_globalmap_blend_start = null
shader_params/u_globalmap_blend_distance = null
shader_params/u_colormap_opacity_per_texture = null
metadata/_custom_type_script = "uid://cr81v46v6n1ys"

[node name="Gui" parent="." unique_id=351606991 instance=ExtResource("6_m3clv")]
unique_name_in_owner = true

[node name="Player" parent="." unique_id=290452896 instance=ExtResource("7_mxnmf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.61231, 18.151953, 6.694071)

[node name="Enemy" parent="." unique_id=1012680412 instance=ExtResource("8_4eo0i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.824657, 18.068104, 17.921127)

[node name="LevelBoundaries" type="StaticBody3D" parent="." unique_id=480795649]

[node name="CollisionShape3D" type="CollisionShape3D" parent="LevelBoundaries" unique_id=721874496]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 17.002651, 255.25195)
shape = SubResource("BoxShape3D_4eo0i")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="LevelBoundaries" unique_id=1577475537]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 256.0152, 17.002651, -0.49164003)
shape = SubResource("BoxShape3D_4eo0i")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="LevelBoundaries" unique_id=1121530514]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 256.0152, 17.002651, 512.4363)
shape = SubResource("BoxShape3D_4eo0i")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="LevelBoundaries" unique_id=1736933347]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 512.4598, 17.002651, 255.25195)
shape = SubResource("BoxShape3D_4eo0i")

[node name="Tree" parent="." unique_id=899795093 instance=ExtResource("10_3ywx5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24.420424, 15.069545, 8.071295)
